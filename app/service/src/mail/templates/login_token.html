{% extends "base.html" %}

{% block title %}Login Token - MYNAB{% endblock %}

{% block header_title %}Secure Login Token{% endblock %}

{% block content %}
    <h2>Your Login Token</h2>
    
    <p>Hello {{ user_name }},</p>
    
    <p>You requested a secure login token for your MYNAB account. Use the token below to access your account safely.</p>
    
    <div class="alert alert-info">
        <strong>üîê Secure Access:</strong><br>
        This token provides temporary access to your account without requiring your password.
    </div>
    
    <p><strong>Your Login Token:</strong></p>
    
    <div class="code-block">
        {{ login_token }}
    </div>
    
    <div style="text-align: center; margin: 32px 0;">
        <a href="{{ login_url }}?token={{ login_token }}" class="button">Login with Token</a>
    </div>
    
    <div class="alert alert-warning">
        <strong>‚è∞ Time Sensitive:</strong><br>
        This token will expire in <strong>{{ expiry_minutes }} minutes</strong> for your security.
    </div>
    
    <div class="divider"></div>
    
    <h3 style="color: var(--foreground); font-size: 16px; margin: 24px 0 16px 0;">How to use your token:</h3>
    
    <ol style="padding-left: 20px; margin: 16px 0;">
        <li style="margin: 8px 0;">Click the "Login with Token" button above, or</li>
        <li style="margin: 8px 0;">Go to the MYNAB login page manually</li>
        <li style="margin: 8px 0;">Enter your email address</li>
        <li style="margin: 8px 0;">Copy and paste the token instead of your password</li>
        <li style="margin: 8px 0;">Click "Sign In"</li>
    </ol>
    
    <div class="alert alert-danger">
        <strong>‚ö†Ô∏è Security Warning:</strong>
        <ul style="margin: 8px 0; padding-left: 20px;">
            <li>Never share this token with anyone</li>
            <li>Don't forward this email to others</li>
            <li>If you didn't request this token, please contact support immediately</li>
            <li>This token can only be used once</li>
        </ul>
    </div>
    
    <p class="muted">If the automatic login button doesn't work, you can copy the following link into your browser:</p>
    
    <div class="code-block" style="font-size: 12px; letter-spacing: 0; word-break: break-all;">
        {{ login_url }}?token={{ login_token }}
    </div>
    
    <p>Need help? Our support team is here to assist you at any time.</p>
    
    <p style="margin-top: 24px;">
        Best regards,<br>
        <strong>The MYNAB Security Team</strong>
    </p>
{% endblock %}

{% block footer %}
    <div class="social-links">
        <a href="https://mynab.com">Website</a>
        <a href="mailto:support@mynab.com">Support</a>
        <a href="https://mynab.com/security">Security</a>
    </div>
    <p>¬© 2025 MYNAB. All rights reserved.</p>
    <p class="muted">This login token was requested for {{ user_email }}. If you didn't request this, please <a href="mailto:security@mynab.com" style="color: var(--muted-foreground);">contact our security team</a> immediately.</p>
{% endblock %}
